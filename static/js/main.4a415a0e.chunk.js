(this["webpackJsonpcanvas-ui-test"]=this["webpackJsonpcanvas-ui-test"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(10),c=a.n(s),o=(a(17),a(2)),l=a(11),r=a(3),d=a(4),h=a(1),m=a(6),v=a(5),u=(a(18),a(19),function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={editMode:!1},i.handleActivityClick=i.handleActivityClick.bind(Object(h.a)(i)),i.handleDecisionClick=i.handleDecisionClick.bind(Object(h.a)(i)),i.handleRemove=i.handleRemove.bind(Object(h.a)(i)),i.handleSave=i.handleSave.bind(Object(h.a)(i)),i}return Object(d.a)(a,[{key:"handleActivityClick",value:function(e){this.props.addActivity()}},{key:"handleDecisionClick",value:function(e){this.props.addDecision()}},{key:"handleRemove",value:function(e){this.props.remove()}},{key:"handleSave",value:function(e){this.props.save()}},{key:"render",value:function(){var e=this.props.decisionEnabled;return n.a.createElement("div",{className:"Toolbar"},n.a.createElement("div",{className:"Toolbar-add-options"},n.a.createElement("div",{onClick:this.handleActivityClick,className:"btn special"},"Add Activity"),n.a.createElement("div",{onClick:e?this.handleDecisionClick:null,className:"btn special ".concat(e?"":"disabled")},"Add Decision")),n.a.createElement("div",{className:"Toolbar-edit-options"},n.a.createElement("div",{onClick:this.handleRemove,className:"btn"},"Undo"),n.a.createElement("div",{onClick:this.handleSave,className:"btn mr-0"},"Save")))}}]),a}(i.Component)),b=(a(20),function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={searchText:""},i.handleChange=i.handleChange.bind(Object(h.a)(i)),i}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"render",value:function(){var e,t=this,a=this.props.items;if(a){var i=a.filter((function(e){return-1!==e.task.indexOf(t.state.searchText.toLowerCase())}));e=0===i.length?n.a.createElement("div",{className:"No-results"},"No tasks found"):i.map((function(e,t){return n.a.createElement("li",{key:t,className:"Activity"},"Task: ",e.task,", [x:",e.x,",y:",e.y,"]")}))}else e=n.a.createElement("div",{className:"Placeholder"},"Add an activity");return n.a.createElement("div",{className:"Sidebar"},n.a.createElement("div",{className:"Sidebar-search mt-4"},n.a.createElement("input",{onChange:this.handleChange,value:this.state.searchText,type:"text",placeholder:"SEARCH"})),n.a.createElement("div",{className:"Sidebar-items mt-5"},n.a.createElement("ul",null,e)))}}]),a}(i.Component)),y=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={decisionOption:!1},i.draw=i.draw.bind(Object(h.a)(i)),i.addActivity=i.addActivity.bind(Object(h.a)(i)),i.addDecision=i.addDecision.bind(Object(h.a)(i)),i.remove=i.remove.bind(Object(h.a)(i)),i.save=i.save.bind(Object(h.a)(i)),i.addFirstActivity=i.addFirstActivity.bind(Object(h.a)(i)),i}return Object(d.a)(a,[{key:"draw",value:function(){var e=document.getElementById("myCanvas");if(e.getContext){var t=e.getContext("2d");if(t.clearRect(0,0,e.width,e.height),t.fillStyle="white",t.fillRect(0,0,e.width,e.height),this.state.items){var a,i=0,n=Object(l.a)(this.state.items);try{for(n.s();!(a=n.n()).done;){var s=a.value;"decision"===s.task?t.strokeRect(s.x,s.y,s.width,s.height):(i++,t.fillStyle=s.color,t.fillRect(s.x,s.y,s.width,s.height),t.fillStyle="white",t.font="bold 16px Courier",t.fillText("Activity ".concat(i),s.x+10,s.y+30))}}catch(m){n.e(m)}finally{n.f()}for(var c=0;c<this.state.lines.length;c++){var r=this.state.lines[c],d=r.startPoint,h=r.lineTo;t.beginPath(),t.moveTo.apply(t,Object(o.a)(d)),t.lineTo.apply(t,Object(o.a)(h)),t.stroke()}}}}},{key:"addFirstActivity",value:function(){var e=this;this.setState({items:[{x:10,y:100,width:120,height:60,task:"activity",color:"blue"}],lines:[{startPoint:[130,130],lineTo:[130,130]}],decisionOption:!0},(function(){e.draw()}))}},{key:"addActivity",value:function(){var e=this;if(console.log(this.state.items),!this.state.items||this.state.items.length<=0)this.addFirstActivity();else{var t=this.state,a=t.items,i=t.lines,n=this.state.items.length-1,s=this.state.items[n],c=s.x,l=(s.y,s.task),r="decision"===l?50:100,d="decision"===l?40:120,h={x:c+d+r,y:100,width:120,height:60,task:"activity",color:"blue"},m={startPoint:[c+d,130],lineTo:[c+r+d,130]};this.setState({items:[].concat(Object(o.a)(a),[h]),lines:[].concat(Object(o.a)(i),[m]),decisionOption:!0},(function(){e.draw()}))}}},{key:"addDecision",value:function(){var e=this;if(this.state.items&&!(this.state.items.length<=0)){var t=this.state,a=t.items,i=t.lines,n=this.state.items.length-1,s=this.state.items[n],c=s.x;s.y,s.width,s.height;if("decision"!==s.task){var l={x:c+60+100,y:110,width:40,height:40,task:"decision",color:"green"},r={startPoint:[c+120,130],lineTo:[c+100+60,130]};this.setState({items:[].concat(Object(o.a)(a),[l]),lines:[].concat(Object(o.a)(i),[r]),decisionOption:!1},(function(){e.draw()}))}}}},{key:"remove",value:function(){var e,t=this;if(!(this.state.items.length<=0)){var a=Object(o.a)(this.state.items),i=Object(o.a)(this.state.lines);a.pop(),i.pop(),console.log(a),e=1!==this.state.items.length&&"decision"!==a[a.length-1].task,this.setState({items:Object(o.a)(a),lines:Object(o.a)(i),decisionOption:e},(function(){t.draw()}))}}},{key:"save",value:function(){window.localStorage.setItem("canvas-memory",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){this.draw()}},{key:"render",value:function(){return n.a.createElement("div",{className:"App container mt-5"},n.a.createElement("div",{className:"small-screen-text d-flex-col text-center p-5"},n.a.createElement("p",null,"Browser window is too small"),n.a.createElement("p",{className:"pt-4"},"Please open on a desktop browser"),n.a.createElement("p",{className:"pt-4"}," ","If you are using a desktop browser, please resize your browser window")),n.a.createElement("div",{className:"row main mb-5"},n.a.createElement("div",{className:"col-9"},n.a.createElement(u,{decisionEnabled:this.state.decisionOption,addDecision:this.addDecision,addActivity:this.addActivity,remove:this.remove,save:this.save}),n.a.createElement("canvas",{id:"myCanvas",width:"800",height:"500"})),n.a.createElement("div",{className:"main col-3"},n.a.createElement(b,{items:this.state.items}))))}}]),a}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.4a415a0e.chunk.js.map